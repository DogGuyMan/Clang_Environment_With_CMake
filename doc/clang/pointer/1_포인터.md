> ### π“„ 2. ν¬μΈν„°μ™€ μ£Όμ†κ°’

---

#### 1). [ν• λ‹Ήλ λ©”λ¨λ¦¬μ— κ°’ μ μ ](./0_λ©”λ¨λ¦¬ν• λ‹Ήκ³Όμ μ .md#2-μ μ -occupation)

* μ—¬κΈ°μ„λ„ μ•λ‹¤μ‹¶μ΄.
κ°’μ΄λ€ λ°μ΄ν„°κ°€ ν• λ‹Ήλ λ©”λ¨λ¦¬μ— μ €μ¥λμ•Όμ§€..
κ·Έμ μ„μ•Ό **μ‚¬μ©μ¤‘**μ΄λΌκ³  λ¶€λ¥Ό μ μλ”κ²ƒμ΄λ‹¤.
* μ΄λ•, μ›μ‹νƒ€μ… κ°’μ€ `int, float, double, char`... λ“±λ“±.

---

#### 2). κ°’ VS μ£Όμ† κ°’

#### νΈμ¶ν• ν•¨μμ— λ³€μλ¥Ό μ „λ‹¬ν•  λ•, λ‘κ°€μ§€λ΅ λ¶„λ¥ ν•  μ μλ‹¤.

##### β‘  "μ μ  κ°’ λ³µμ‚¬", "κ°’μ— μν• νΈμ¶"

* `int arg1`, `int arg2` κ°κ°μ€ "λ³µμ‚¬λ κ°’"μ„ λ°›λ”λ‹¤

##### β‘΅ "ν• λ‹Ή μ£Όμ† κ°’ λ³µμ‚¬", "μ°Έμ΅°μ— μν• νΈμ¶"
* **μμ•½λ λ©”λ¨λ¦¬ λΈ”λ­μ„ μμ²΄λ¥Ό λ‚νƒ€λ‚΄λ” κ°’λ„ μμ„κΉ?** λΌλ” κ²ƒμ΄κ³ , κ·Έλ¬ν• κ°’μ΄ λ°”λ΅ **μ£Όμ†κ°’**μ΄λΌ λ¶λ¦¬λ” κ²ƒμ΄λ‹¤.
* `int* arg1`, `int* arg2` κ°κ°μ€ **"μ£Όμ†κ°’μ λ³µμ‚¬λ³Έ"μ„ λ°›λ”λ‹¤**
* μ£Όμν•  μ μ€ ν¬μΈν„° μμ²΄λ„ κ°’μ— μν• νΈμ¶μ΄λ‹¤. λ‹¤λ§ κ·Έ κ°’μ΄ **μ£Όμ†κ°’**μΌ λΏμ΄λ‹¤.

---


#### 4). ν¬μΈν„° νƒ€μ…

#### ν¬μΈν„° νƒ€μ…μ„ ν• λ‹Ήν•λ” ν¬κΈ°λ” CPU μ•„ν‚¤ν…μ³(32bit, 64bit)μ— λ”°λΌ λ‹¤λ¥΄λ‹¤.

##### β‘  `void *` νƒ€μ…

* κ°€μ¥ κΈ°λ³Έμ μ΄κ³  μ λ„¤λ¦­ν• **μ£Όμ†κ°’μ„ μ €μ¥ν•λ” νƒ€μ…(type)**μ€
`(void *)` λΌλ” ν•νƒμ΄κ³  **μ λ„¤λ¦­ ν¬μΈν„°**λΌκ³  ν•λ‹¤.
* μ΄κ²ƒμ€ μ–΄λ–¤ μλ£ν•μ μ£Όμ†κ°’λ„ μ €μ¥ν•  μ μλ‹¤.
* μ‹¤μ  λ°μ΄ν„° νƒ€μ… μ •λ³΄λ¥Ό ν¬ν•¨ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ΄ μ£Όμ†κ°€ κ°€λ¦¬ν‚¤λ” λ°μ΄ν„°κ°€ μ–΄λ–¤ ν•μ‹μΈμ§€λ” **λ³„λ„μ μ²λ¦¬ μ—†μ΄λ” μ• μ μ—†λ‹¤.**
  * κ·Έ **ν• λ‹Ήλ λ©”λ¨λ¦¬λ¥Ό μ–΄λ–¤ νƒ€μ…μΌλ΅ ν•΄μ„ν•΄μ•Ό ν• μ§€ λ…μ‹ν•λ” μ²λ¦¬κ°€ ν•„μ”**ν•λ‹¤.
  * κ·Έ μ²λ¦¬λ€ **μ—­μ°Έμ΅° μ „μ— μ μ ν• ν¬μΈν„° νƒ€μ…μΌλ΅ λ…μ‹μ  μΊμ¤ν…**μ„ λ§ν•λ‹¤.

##### β‘΅ νƒ€μ… νΈν™μ„±
* `int`(4byte), `float`(4byte)μ ν¬κΈ°κ°€ κ°™λ‹¤κ³  ν•΄μ„
* `float*` ν¬μΈν„°μ— μ €μ¥λ μ£Όμ†κ°’μ„ `int*` ν¬μΈν„°μ— μΊμ¤ν…ν•μ—¬ λ€μ…ν•  μλ” μμ§€λ§, μ—­μ°Έμ΅° μ‹μ— μ¬λ°”λ¥Έ κ°’μ— μ ‘κ·Όν•  μ μλ”μ§€λ” λ³΄μ¥ν•  μ μ—†λ‹¤.
* **κ°™μ€ λ©”λ¨λ¦¬ μ„μΉλΌλ„ ν•΄μ„ λ°©μ‹μ΄ λ‹¤λ¥΄κΈ° λ•λ¬Έ**μ΄λ‹¤.
  ```c
  /* ./compatibilityTest */
  #include "stdio.h"

  int main() {
    float f = 12.34;
    float* fp = &f;
    int* ip = (int*)&f;
    printf("%p : %f\n", fp, *fp);
    printf("%p : %d\n", ip, *ip);
  }
  ```

  ```bash
  > ./compatibilityTest
  0x16fbaa32c : 12.340000
  0x16fbaa32c : 1095069860
  ```

---

#### 5). `&` VS `*`

##### β‘  1. μ£Όμ†(μ°Έμ΅°) μ—°μ‚°μ `&`

* κ°’ -> μ£Όμ†
* λ³€μμ κ°’μ΄ μ•„λ‹λΌ, **κ°’μ΄ μ €μ¥λ λ©”λ¨λ¦¬μ μ£Όμ†**λ¥Ό μ–»μ„ λ•
* `int * ν¬μΈν„°λ³€μ`μ— μ£Όμ†λ¥Ό μ €μ¥ν•  λ• μ‚¬μ©.
    ```c
    int x = 10;
    int *p = &x;  // xμ μ£Όμ†λ¥Ό pμ— μ €μ¥
    ```

##### β‘΅ 2. μ—­μ°Έμ΅° μ—°μ‚°μ `*`

* μ£Όμ† -> κ°’
* λ°λ€λ΅ ν¬μΈν„°κ°€ κ°€λ¥΄ν‚¤λ” μ£Όμ†λ¥Ό ν†µν•΄ μ—­μΌλ΅ **κ°’μ„ μ°Έμ΅°**ν•λ” κ²ƒ.
* λ©”λ¨λ¦¬ μ£Όμ†μ— μ €μ¥λ κ°’μ„ μ°Έμ΅°ν•κ±°λ‚ λ³€κ²½ν•  λ• μ‚¬μ©.
    ```c
    int x = 10;
    int *p = &x;  // xμ μ£Όμ†λ¥Ό pμ— μ €μ¥
    int y = *p;   // pκ°€ κ°€λ¦¬ν‚¤λ” κ°’μ„ yμ— μ €μ¥ int y = xμ™€ λ™μΌ
    ```
* ν¬μΈν„° λ³€μλ¥Ό λ§¤κ°λ³€μλ΅ κ°€μ Έμ¬ λ• (ref, out)μΌλ΅ μ“Έλ•,
    ```c
    void convertM2HM(int min, int *h, int *m) {
        *h = min / 60;
        *m = min % 60;
    }
    void swap(int *l, int *r) {
        int tmp = *l;
        *l = *r;
        *r = tmp;
    }
    int main() {
        int M, hours, minutes;
        convertM2HM(M, &hours, &minutes);

        int a = 30, b = 77;
        swap(&a, &b);
    }
    ```

---

#### 6). ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” μ΄μ μ™€ μ£Όμν•  μ 

##### β‘  ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” μ‚¬λ΅€λ΅ λ°”λΌ λ΄¤μ„λ–„,

1. **λ°°μ—΄κ³Ό λ¬Έμμ—΄ μ²λ¦¬**: λ°μ΄ν„°μ κ±°λ€ν• λ‚μ—΄μ΄ ν•„μ”ν•  λ•, λ‚μ—΄μ μ²« μ‹μ‘μ„ κ°€λ¥΄ν‚¤λ„λ΅
   * **κ³ μ • ν¬κΈ° λ²„νΌ μ„ μ–Έν•κΈ°**
2. **μ„±λ¥ μµμ ν™”**: κ±°λ€ν• λ°μ΄ν„°κ°€ λ³µμ‚¬κ°€ μΌμ–΄λ‚μ§€ μ•κΈ° μ„ν•΄, *κΏ€λΌμ§€κ°€ μμ§μ΄λ”κ²ƒ λ³΄λ‹¨ κ°€λ²Όμ΄ λ‚΄κ°€ μ§μ ‘ λ³΄λ¬κ°€λ”κ² μΆ‹λ‹¤λ”..*
   * μ΄λ―Έμ§€ μ²λ¦¬λ‚ 3D κ·Έλν”½ μ—°μ‚°μ—μ„ λΉ λ¥Έ ν”½μ…€ μ΅°μ‘μ΄ κ°€λ¥ν•΄μ§‘λ‹λ‹¤.
3. **μλ£κµ¬μ΅° κµ¬ν„**: μ—°κ²° λ¦¬μ¤νΈ, νΈλ¦¬, κ·Έλν”„μ λ…Έλ“ μ—°κ²°
4. **ν•λ“μ›¨μ–΄ μ ‘κ·Ό**: νΉμ • λ©”λ¨λ¦¬ μ£Όμ†μ ν•λ“μ›¨μ–΄ λ μ§€μ¤ν„° μ§μ ‘ μ μ–΄
   * **λ™μ μΌλ΅ λ©”λ¨λ¦¬ μμ› μ΅°μ‘**
   * **ν•¨μ ν¬μΈν„°**: μ‹¤ν–‰ν•  ν•¨μλ¥Ό λ™μ μΌλ΅ κ²°μ • (μ½λ°±, λ‹¤ν•μ„±)

##### β‘΅ ν¬μΈν„° μ‚¬μ©μ‹ μ£Όμν•΄μ•Ό ν•  μ λ“¤

1. **λ©”λ¨λ¦¬ λ„μ (Memory Leak)**: `malloc` ν›„ `free` λ„λ½
2. **λ•κΈ€λ§ ν¬μΈν„° (Dangling Pointer)**: ν•΄μ λ λ©”λ¨λ¦¬λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„° μ‚¬μ©
3. **λ„ ν¬μΈν„° μ—­μ°Έμ΅°**: μ΄κΈ°ν™”λμ§€ μ•κ±°λ‚ NULLμΈ ν¬μΈν„° μ—­μ°Έμ΅°
4. **λ²„νΌ μ¤λ²„ν”λ΅μ°**: ν• λ‹Ήλ λ©”λ¨λ¦¬ λ²”μ„λ¥Ό λ²—μ–΄λ‚ μ ‘κ·Ό
5. **μ΄μ¤‘ ν•΄μ  (Double Free)**: κ°™μ€ λ©”λ¨λ¦¬λ¥Ό λ‘ λ² ν•΄μ 
6. **μ™€μΌλ“ ν¬μΈν„°**: μ„μμ κ°’μΌλ΅ μ΄κΈ°ν™”λ ν¬μΈν„° μ‚¬μ©

---

https://rito15.github.io/posts/cs-unsafe-and-fixed/
https://learn.microsoft.com/ko-kr/dotnet/csharp/language-reference/unsafe-code
https://stackoverflow.com/questions/30064801/understanding-unsafe-code-and-its-uses
https://www.geeksforgeeks.org/c-sharp/unsafe-code-in-c-sharp/
https://m.cafe.daum.net/csharp-novice/5ijJ/41
https://m.blog.naver.com/techshare/223540085591
https://www.sysnet.pe.kr/2/0/13709?pageno=1
